{"ast":null,"code":"var _jsxFileName = \"/Users/daivo/Desktop/lab2-airbnb/data236-lab1-frontend/src/traveler/propertydetails.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Layout from \"../main/layout\";\nimport { formatToday } from \"../utils/date\";\nimport AgentFab from \"../agent/Agent\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction prettyLocation(loc) {\n  if (!loc) return \"\";\n  if (typeof loc === \"object\") {\n    const {\n      city,\n      state,\n      country\n    } = loc;\n    return [city, state, country].filter(Boolean).join(\", \");\n  }\n  try {\n    const o = JSON.parse(loc);\n    return [o.city, o.state, o.country].filter(Boolean).join(\", \");\n  } catch {\n    return String(loc);\n  }\n}\nfunction normalizeProperty(p) {\n  var _p$bedrooms, _p$bathrooms, _p$guests, _p$rating;\n  const photos = Array.isArray(p.photo_urls) ? p.photo_urls.map(ph => typeof ph === \"string\" ? ph : ph === null || ph === void 0 ? void 0 : ph.url).filter(Boolean) : [];\n  return {\n    id: p.id,\n    name: p.title || \"Untitled\",\n    type: p.type,\n    price: p.price_per_night != null ? Number(p.price_per_night) : 0,\n    bedrooms: (_p$bedrooms = p.bedrooms) !== null && _p$bedrooms !== void 0 ? _p$bedrooms : 0,\n    bathrooms: (_p$bathrooms = p.bathrooms) !== null && _p$bathrooms !== void 0 ? _p$bathrooms : 0,\n    guests: (_p$guests = p.guests) !== null && _p$guests !== void 0 ? _p$guests : 1,\n    amenities: Array.isArray(p.amenities) ? p.amenities : [],\n    rating: (_p$rating = p.rating) !== null && _p$rating !== void 0 ? _p$rating : 4.9,\n    locationText: prettyLocation(p.location),\n    images: photos.length > 0 ? photos : [\"https://via.placeholder.com/1280x800?text=No+photo\"],\n    owner_name: p.owner_name || null,\n    description: p.description || \"\"\n  };\n}\nfunction imgSrc(url) {\n  return /^https?:\\/\\//i.test(url) ? url : `http://localhost:4000${url !== null && url !== void 0 && url.startsWith(\"/\") ? url : `/${url}`}`;\n}\nfunction PropertyDetails() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [property, setProperty] = useState(null);\n  const [checkin, setCheckin] = useState(\"\");\n  const [checkout, setCheckout] = useState(\"\");\n  const [guests, setGuests] = useState(1);\n  const navigate = useNavigate();\n  const todayStr = formatToday();\n  useEffect(() => {\n    fetch(`http://localhost:4000/api/properties/${id}`).then(res => res.json()).then(data => setProperty(normalizeProperty(data))).catch(console.error);\n  }, [id]);\n  const bookingContext = property ? {\n    location: property.locationText || \"\",\n    start_date: checkin || \"\",\n    end_date: checkout || \"\",\n    party_type: \"family\",\n    guests: Number(guests || 1)\n  } : null;\n  if (!property) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-5\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Layout, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"fw-bold mb-2\",\n        children: property.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-muted mb-4\",\n        children: [property.locationText, \" \\xB7 \", property.bedrooms, \" bedrooms \\xB7 \", property.bathrooms, \" baths\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"propertyCarousel\",\n        className: \"carousel slide mb-5\",\n        \"data-bs-ride\": \"carousel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"carousel-inner rounded-4 overflow-hidden shadow-sm\",\n          children: property.images.map((img, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `carousel-item ${i === 0 ? \"active\" : \"\"}`,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: imgSrc(img),\n              className: \"d-block w-100\",\n              style: {\n                objectFit: \"cover\",\n                height: \"480px\"\n              },\n              alt: `property ${i + 1}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), property.images.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"carousel-control-prev\",\n            type: \"button\",\n            \"data-bs-target\": \"#propertyCarousel\",\n            \"data-bs-slide\": \"prev\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"carousel-control-prev-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"carousel-control-next\",\n            type: \"button\",\n            \"data-bs-target\": \"#propertyCarousel\",\n            \"data-bs-slide\": \"next\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"carousel-control-next-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row g-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-7\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mb-3\",\n            children: [\"Entire \", property.type, \" in \", property.locationText]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted mb-4\",\n            children: [property.guests, \" guests \\xB7 \", property.bedrooms, \" bedrooms \\xB7 \", property.bathrooms, \" baths\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center gap-3 border-bottom pb-3 mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://a0.muscache.com/defaults/user_pic-50x50.png?v=3\",\n              className: \"rounded-circle\",\n              alt: \"Host\",\n              width: \"50\",\n              height: \"50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"mb-0\",\n                children: [\"Hosted by \", property.owner_name || \"Your host\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: property.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"mt-4\",\n            children: \"Amenities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: property.amenities.map((a, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: a\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-4 p-4 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row g-2 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small mb-1\",\n                  children: \"Check-in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  className: \"form-control\",\n                  value: checkin,\n                  min: todayStr,\n                  onChange: e => setCheckin(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small mb-1\",\n                  children: \"Check-out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  className: \"form-control\",\n                  value: checkout,\n                  min: checkin || todayStr,\n                  onChange: e => setCheckout(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label small mb-1\",\n                children: \"Guests\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: guests,\n                onChange: e => setGuests(Number(e.target.value)),\n                children: [1, 2, 3, 4, 5, 6, 7, 8].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: n,\n                  children: [n, \" guest\", n > 1 && \"s\"]\n                }, n, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger w-100 rounded-pill py-2\",\n              onClick: () => {\n                if (!checkin || !checkout) return alert(\"Please select dates\");\n                navigate(`/property/book/${property.id}?checkin=${checkin}&checkout=${checkout}&guests=${guests}`);\n              },\n              children: \"Check availability\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), property && /*#__PURE__*/_jsxDEV(AgentFab, {\n        bookingContext: bookingContext\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(PropertyDetails, \"uDgSwo0XYpWnBNhhMZY2IZZbhf4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = PropertyDetails;\nexport default PropertyDetails;\nvar _c;\n$RefreshReg$(_c, \"PropertyDetails\");","map":{"version":3,"names":["useEffect","useState","useParams","useNavigate","Layout","formatToday","AgentFab","jsxDEV","_jsxDEV","Fragment","_Fragment","prettyLocation","loc","city","state","country","filter","Boolean","join","o","JSON","parse","String","normalizeProperty","p","_p$bedrooms","_p$bathrooms","_p$guests","_p$rating","photos","Array","isArray","photo_urls","map","ph","url","id","name","title","type","price","price_per_night","Number","bedrooms","bathrooms","guests","amenities","rating","locationText","location","images","length","owner_name","description","imgSrc","test","startsWith","PropertyDetails","_s","property","setProperty","checkin","setCheckin","checkout","setCheckout","setGuests","navigate","todayStr","fetch","then","res","json","data","catch","console","error","bookingContext","start_date","end_date","party_type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","img","i","src","style","objectFit","height","alt","width","a","value","min","onChange","e","target","n","onClick","alert","_c","$RefreshReg$"],"sources":["/Users/daivo/Desktop/lab2-airbnb/data236-lab1-frontend/src/traveler/propertydetails.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Layout from \"../main/layout\";\nimport { formatToday } from \"../utils/date\";\nimport AgentFab from \"../agent/Agent\";\n\nfunction prettyLocation(loc) {\n  if (!loc) return \"\";\n  if (typeof loc === \"object\") {\n    const { city, state, country } = loc;\n    return [city, state, country].filter(Boolean).join(\", \");\n  }\n  try {\n    const o = JSON.parse(loc);\n    return [o.city, o.state, o.country].filter(Boolean).join(\", \");\n  } catch {\n    return String(loc);\n  }\n}\n\nfunction normalizeProperty(p) {\n  const photos =\n    Array.isArray(p.photo_urls)\n      ? p.photo_urls\n          .map((ph) => (typeof ph === \"string\" ? ph : ph?.url))\n          .filter(Boolean)\n      : [];\n\n  return {\n    id: p.id,\n    name: p.title || \"Untitled\",\n    type: p.type,\n    price: p.price_per_night != null ? Number(p.price_per_night) : 0,\n    bedrooms: p.bedrooms ?? 0,\n    bathrooms: p.bathrooms ?? 0,\n    guests: p.guests ?? 1,\n    amenities: Array.isArray(p.amenities) ? p.amenities : [],\n    rating: p.rating ?? 4.9,\n    locationText: prettyLocation(p.location),\n    images: photos.length > 0 ? photos : [\"https://via.placeholder.com/1280x800?text=No+photo\"],\n    owner_name: p.owner_name || null,\n    description: p.description || \"\",\n  };\n}\n\nfunction imgSrc(url) {\n  return /^https?:\\/\\//i.test(url)\n    ? url\n    : `http://localhost:4000${url?.startsWith(\"/\") ? url : `/${url}`}`;\n}\n\nfunction PropertyDetails() {\n  const { id } = useParams();\n  const [property, setProperty] = useState(null);\n  const [checkin, setCheckin] = useState(\"\");\n  const [checkout, setCheckout] = useState(\"\");\n  const [guests, setGuests] = useState(1);\n  const navigate = useNavigate();\n  const todayStr = formatToday();\n\n  useEffect(() => {\n    fetch(`http://localhost:4000/api/properties/${id}`)\n      .then((res) => res.json())\n      .then((data) => setProperty(normalizeProperty(data)))\n      .catch(console.error);\n  }, [id]);\n\n  const bookingContext = property ? {\n   location: property.locationText || \"\",\n   start_date: checkin || \"\",          \n   end_date: checkout || \"\",\n   party_type: \"family\",\n   guests: Number(guests || 1),\n } : null;\n\n  if (!property) return <div className=\"container py-5\">Loading...</div>;\n\n  return (\n    <>\n      <Layout />\n      <div className=\"container py-4\">\n        <h2 className=\"fw-bold mb-2\">{property.name}</h2>\n        <p className=\"text-muted mb-4\">\n          {property.locationText} 路 {property.bedrooms} bedrooms 路 {property.bathrooms} baths\n        </p>\n\n        <div id=\"propertyCarousel\" className=\"carousel slide mb-5\" data-bs-ride=\"carousel\">\n          <div className=\"carousel-inner rounded-4 overflow-hidden shadow-sm\">\n            {property.images.map((img, i) => (\n              <div key={i} className={`carousel-item ${i === 0 ? \"active\" : \"\"}`}>\n                <img\n                  src={imgSrc(img)}\n                  className=\"d-block w-100\"\n                  style={{ objectFit: \"cover\", height: \"480px\" }}\n                  alt={`property ${i + 1}`}\n                />\n              </div>\n            ))}\n          </div>\n          {property.images.length > 1 && (\n            <>\n              <button\n                className=\"carousel-control-prev\"\n                type=\"button\"\n                data-bs-target=\"#propertyCarousel\"\n                data-bs-slide=\"prev\"\n              >\n                <span className=\"carousel-control-prev-icon\"></span>\n              </button>\n              <button\n                className=\"carousel-control-next\"\n                type=\"button\"\n                data-bs-target=\"#propertyCarousel\"\n                data-bs-slide=\"next\"\n              >\n                <span className=\"carousel-control-next-icon\"></span>\n              </button>\n            </>\n          )}\n        </div>\n\n        <div className=\"row g-5\">\n          <div className=\"col-lg-7\">\n            <h4 className=\"mb-3\">\n              Entire {property.type} in {property.locationText}\n            </h4>\n            <p className=\"text-muted mb-4\">\n              {property.guests} guests 路 {property.bedrooms} bedrooms 路 {property.bathrooms} baths\n            </p>\n\n            <div className=\"d-flex align-items-center gap-3 border-bottom pb-3 mb-3\">\n              <img\n                src=\"https://a0.muscache.com/defaults/user_pic-50x50.png?v=3\"\n                className=\"rounded-circle\"\n                alt=\"Host\"\n                width=\"50\"\n                height=\"50\"\n              />\n              <div>\n                <h6 className=\"mb-0\">Hosted by {property.owner_name || \"Your host\"}</h6>\n              </div>\n            </div>\n\n            <p>{property.description}</p>\n\n            <h5 className=\"mt-4\">Amenities</h5>\n            <ul>\n              {property.amenities.map((a, i) => (\n                <li key={i}>{a}</li>\n              ))}\n            </ul>\n          </div>\n\n          <div className=\"col-lg-5\">\n            <div className=\"border rounded-4 p-4 shadow-sm\">\n              <div className=\"row g-2 mb-3\">\n                <div className=\"col-6\">\n                  <label className=\"form-label small mb-1\">Check-in</label>\n                  <input\n                    type=\"date\"\n                    className=\"form-control\"\n                    value={checkin}\n                    min={todayStr}\n                    onChange={(e) => setCheckin(e.target.value)}\n                  />\n                </div>\n                <div className=\"col-6\">\n                  <label className=\"form-label small mb-1\">Check-out</label>\n                  <input\n                    type=\"date\"\n                    className=\"form-control\"\n                    value={checkout}\n                    min={checkin || todayStr}\n                    onChange={(e) => setCheckout(e.target.value)}\n                  />\n                </div>\n              </div>\n\n              <div className=\"mb-3\">\n                <label className=\"form-label small mb-1\">Guests</label>\n                <select\n                  className=\"form-select\"\n                  value={guests}\n                  onChange={(e) => setGuests(Number(e.target.value))}\n                >\n                  {[1, 2, 3, 4, 5, 6, 7, 8].map((n) => (\n                    <option key={n} value={n}>\n                      {n} guest{n > 1 && \"s\"}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <button\n                className=\"btn btn-danger w-100 rounded-pill py-2\"\n                onClick={() => {\n                  if (!checkin || !checkout) return alert(\"Please select dates\");\n                  navigate(\n                    `/property/book/${property.id}?checkin=${checkin}&checkout=${checkout}&guests=${guests}`\n                  );\n                }}\n              >\n                Check availability\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {property && <AgentFab bookingContext={bookingContext} />}\n      </div>\n    </>\n  );\n}\n\nexport default PropertyDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}